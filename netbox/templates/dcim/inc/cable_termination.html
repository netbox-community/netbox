{% load helpers %}
<table class="table table-hover panel-body attr-table">
  {% if terminations.0.device %}
    {# Device component #}
    <tr>
      <td>Device</td>
      <td>{{ terminations.0.device|linkify }}</td>
    </tr>
    <tr>
      <td>Site</td>
      <td>{{ terminations.0.device.site|linkify }}</td>
    </tr>
    {% if terminations.0.device.rack %}
      <tr>
        <td>Rack</td>
        <td>{{ terminations.0.device.rack|linkify }}</td>
      </tr>
    {% endif %}
    <tr>
      <td>Type</td>
      <td>{{ terminations.0|meta:"verbose_name"|capfirst }}</td>
    </tr>
    <tr>
      <td>Name(s)</td>
      <td>
        {% for term in terminations %}
          {{ term|linkify }}{% if not forloop.last %},{% endif %}
        {% endfor %}
      </td>
    </tr>
  {% else %}
    {# Circuit termination #}
    <tr>
      <td>Provider</td>
      <td>{{ terminations.0.circuit.provider|linkify }}</td>
    </tr>
    <tr>
      <td>Circuit</td>
      <td>
        {% for term in terminations %}
          {{ term.circuit|linkify }} ({{ term }}){% if not forloop.last %},{% endif %}
        {% endfor %}
      </td>
    </tr>
  {% endif %}
</table>
